% Copyright 2023 Kieran W Harvie. All rights reserved.

\section{Generated Subfield of Finite Fields}
Let the finite field $F$ have a set of elements $S$.
The set $\langle S \rangle$ whose elements are the sums of the products of powers of $S$:
\[\langle S \rangle = \left\{\sum_n\prod_i s_i^{p_{i,n}}\,|\,s_i\in S \text{ and } p_{i,n}\in \mathbb{Z}\right\}\cup\{0\}\]
For example if $S = \{s_0,s_1,s_2\}$ all of the following are elements of $\langle S \rangle$:
\[s_0+s_1+s_2,\quad s_0s_1s_2s_3,\quad 1+s_0+s_1s_2^7+s_0s_1s_2^2\]
(I use the $\langle \cdot \rangle$ notation because this is like generation,
one of the most irregular and abused words in algebra).
\\

The set inherits it's operations from $F$ and is clearly closed under addition and multiplication.
It also contains $1$ and its repeated sum, labeled $n$, by using $p_{i,n} = 0$:
\[n = \overbrace{(s_0s_1s_2)^0+(s_0s_1s_2)^0+\dots s(s_0s_1s_2)^0}^{n \text{ times}}\]

Given $q\in \langle S \rangle$ because there are a finite number of options for $nq$ the pigeonhole principle means there will eventually be $n > m+1$ such that:
\begin{equation*}
\begin{aligned}
nq =& mq\\
(n-m)q =& 0\\
q+(n-m-1)q=& 0\\
\end{aligned}
\end{equation*}
$(n-m-1)q$ which is the additive inverse of $q$.
Because $n-m-1 > 0$ it is an element of $\langle S \rangle$ and since $q$ is also an element by closure so is the inverse.
\\

Likewise for the multiplicative inverse:
\begin{equation*}
\begin{aligned}
q^n=&q^m\\
q\cdot q^{n-m-1}=&1
\end{aligned}
\end{equation*}
Hence $\langle S \rangle$ is a, not necessarily proper, subfield of $F$.

\subsection{$S=\{1\}$}
An important example is when $S=\{1\}$.
Let $n$ be the "lowest"\footnote{Yes I know I haven't defined that properly, but just figure it out.} where the pigeonhole principle whole applies:
\begin{equation*}
\begin{aligned}
	m + (n-m) =& n+(m-m)\\
	=& n \\
	=& m \\
\end{aligned}
\end{equation*}

The minimality\footnote{See previous footnote.} of $n$ makes $n-m$ non-zero making $n$ zero.
Hence $S\cong\mathbb{F}_{n}$.
\\

(This is sloppy even for quick notes)

\subsection{Wedderburn's Little Theorem}
This is similar to Wedderburn's little theorem, 
that all finite domains are fields.
Wedderburn generalizes the subject to domains instead of field and thus has to use $q-q^n = 0$ and some polynomial analysis (Headache).
But reduces the results,
it doesn't discuss closure.
\\

Cool result,
I suggest looking it up.

\subsection{Dreams of a more rigor}
Let $R$ be a ring and let $\phi$ be a function from $\mathbb{Z}$ to $R$ such that:
\[\phi(1)=1_R,\quad \phi(n\pm 1) = \phi(n)\pm \phi(1_R)= \phi(n)\pm 1_R\]
$\phi$ is well-defined as you can find the value for any $n\in\mathbb{Z}$ by induction.
And the function only has one value at each $n$ since you can't change the value by "doubling back" on the induction:
\[\phi((n\pm 1)\mp 1) = \phi(n\pm 1)\mp 1_R = \phi(n)\pm 1_R\mp 1_R = \phi(n)\]
(This can be made more rigorous by only allowing induction one way in the definition).

Induction on $n$ shows:
\begin{equation*}
\begin{aligned}
	\phi(n)+\phi(m) =& \phi(n\pm 1)\mp 1 +\phi(m) \\
	=& \phi(n\pm 1)+\phi(m\mp 1) \\
	=& \phi(n\pm 1 + m\mp 1) \\
	=& \phi(n+m) \\
\end{aligned}
\end{equation*}

Which can be used to further prove:
\begin{equation*}
\begin{aligned}
	\phi(n)\phi(m) =&(\phi(n\pm 1)\mp 1)\phi(m) \\
	=&\phi(n\pm 1)\phi(m)\mp\phi(m) \\
	=&\phi((n\pm 1)m)\mp\phi(m) \\
	=&\phi((n\pm 1)m\mp m) \\
	=&\phi(nm)\\
\end{aligned}
\end{equation*}

These identities,
combined $\phi$ being defined with $\phi(1)=1_R$,
shows that $\phi$ is a homomorphism.
\\

Which, 
by the first isomorphisms theorem for rings,
shows that the $\img\phi$ is a subring of $R$ and is isomorphic to $\mathbb{Z}/\ker \phi$.
This formalizes the concept of the $n$th sum of $1_R$,
and lets us manipulate it better.
\\

\textbf{Corollary:} If $R$ is finite then the additive group of $R$ is also finite.
Meaning $1_R$ has an order,
which we label $N$.
In this case $\ker\phi = N\mathbb{Z}$ giving:
\[\img\phi = \frac{\mathbb{Z}}{N\mathbb{Z}}\]
It's really easy to use BÃ©zout's identity on these objects to show which ones are fields.

\subsection{An Observation on Divisibility}
\subsubsection{Lemma: $n\in\ker\phi \Rightarrow \ker\phi \supseteq n\mathbb{Z}$}
A corollary of $\phi$ being a homomorphism is that:
\begin{equation*}
\begin{aligned}
	n\in\ker\phi \Rightarrow& \phi(nk)=\phi(n)\phi(k) = 0\\
	\Rightarrow& n\mathbb{Z} \subseteq \ker\phi\\
\end{aligned}
\end{equation*}

\subsubsection{Lemma: If there is a nonzero $n\in\ker\phi$ then there is nonzero $m\in\ker\phi$ such that nonzero $k\in\ker\phi\Rightarrow|k|\geq|m|$}
There are finitely many elements with a magnitude less than $|n|$.
Hence there are finitely number of element with a magnitude less than $|n|$ that are in the $\ker\phi$.
Hence there is an element that takes the minimal value of $|\cdot|$.

\subsubsection{Lemma: If there exits nonzero $n\in\ker\phi$ such that nonzero $m\in\ker\phi\Rightarrow|m|\geq|n|$ then $\ker\phi \subseteq n\mathbb{Z}$}
(Going forward remember that either $|n| = n$ or $|n| = -n$).
\\

Let $m\in\ker\phi$ since $|m| > |n|$ there exits $q,r \in \mathbb{Z}$ with $|r| < |n|$ such that:
\[|m| = q|n|+r \Rightarrow q|n|+r-|m| = 0\]
But:
\begin{equation*}
\begin{aligned}
	0&=\phi(q|n|+r-|m|)\\
	&=\phi(q)\phi(|n|)+\phi(r)-\phi(|m|)\\
	&=\phi(r) \\
	&=\phi(|r|) \\
\end{aligned}
\end{equation*}
Meaning we have $r\in\ker\phi$ and $|r| < |n|$.
This requires $r=0$ otherwise would contradicts the initial assumption, hence:
\[|m| = q|n| \Rightarrow m \in n\mathbb{Z}\]
Meaning letting $m\in\ker\phi$ means $m\in n\mathbb{Z}$ making $\ker\phi \subseteq n\mathbb{Z}$, 
as requires.

\subsubsection{Lemma: If there exists a non-zero $n\in\ker\phi$ then $\ker\phi=d\mathbb{Z}$ where $d$ is the smallest divisor of $n$ in $\ker\phi$}
(Here the divisors are positive).
\\

From second previous lemma there exists non-zero $m\in\ker\phi$ such that for nonzero $k\in\ker\phi\Rightarrow|k|\geq|m|$.
From the next lemma we get $\ker\phi \subseteq m\mathbb{Z}$.
From the first lemma we get $\ker\phi \supseteq m\mathbb{Z}$,
combining them we get:
\[\ker\phi = m\mathbb{Z}\]
But nonzero $n \in\ker\phi = m\mathbb{Z}$ implies $m|n$.
\\

But $k\in\ker\phi\Rightarrow|k|\geq|m|$ implies that all other divisors of $n$ that are in $\ker\phi$ are greater than equal to $m$ in magnitude,
otherwise would cause a contradiction,
hence $m$ is the smallest divisor of $n$ in $\ker\phi$,
as required.
\\

(Note that $d\mathbb{Z}\cong-d\mathbb{Z}$)

\subsubsection{Lemma: If $R$ is finite than there exits nonzero $n\in\ker\phi$}
From the pidgin hole principle if we have $|R|+1$ elements of $\mathbb{Z}$ than there are at least two distinct elements,
$m_0$ and $m_1$,
such that:
\[\phi(m_0)=\phi(m_1)\]
Hence:
\[\phi(m_0-m_1)=0\]
Since $m_0$ and $m_1$ are distinct $m_0-m_1\neq 0$ and hence $n=m_0-m_1$ works.

\subsubsection{Corollary: If $R$ is finite then $\img\phi\cong\mathbb{Z}/n\mathbb{Z}$ for some nonzero $n$}
Combine the previous theorem and lemma.

\subsection{An Observation on Order}
\subsubsection{Lemma: $\img\phi \subseteq \langle 1_R \rangle$:}
Because $\phi$ was defined by:
\[\phi(1)=1_R,\quad \phi(n\pm 1) = \phi(n)\pm \phi(1_R)= \phi(n)\pm 1_R\]
The closure of $\langle 1_R \rangle$ means $\phi(n)\in\langle 1_R \rangle$ implies $\phi(n\pm 1)$ is.
With the base case of $\phi(1) = 1_R \in \langle 1_R \rangle$ the lemma follows from induction.

\subsubsection{Theorem: Let $\langle 1_R\rangle$ be finite. Then $\img\phi\cong\mathbb{Z}/|\langle 1_R\rangle|\mathbb{Z}\cong\langle 1_R\rangle$}
By definition $\langle 1_R \rangle$ is the smallest subring of $R$ containing $1_R$,
hence the smallest subring.
From the first ring isomorphism theorem $\img\phi$ is a subring of $R$,
hence:
\[|\img\phi| \geq |\langle 1_R \rangle|\]
But from the previous lemma we have:
\[|\img\phi| \leq |\langle 1_R \rangle|\]
The desired result follows from $\langle 1_R \rangle$ being cyclic.

\subsubsection{Remark:}
We expect $\langle a \rangle$ meaning "The smallest substructure containing $a$" to be well defined in any structure $S$ that has closure.
By closure I means that for some functions $\phi_n$ for all $U\subseteq S$ we have $\phi_n(U)\in S$.
And by substructure I means some $R\subseteq S$ where closure still works for $R$.
\\

Firstly, $a$ is a member of the superstructure so theres is at least one possible set.
Secondly, assume $A$ and $B$ be two minimal substructures.
Now the closure of the substructures means $U\subseteq A\cap B$ implies $\phi_n(U) \subseteq A$ and $\phi_n(U) \subseteq B$ and hence $U\subseteq A\cap B \Rightarrow \phi_n(U) \in A\cap B$ making $A\cap B$ a substructure.
Hence, from the minimality of $A$ and $B$ we have $A = A\cap B = B$.
\\

I assume this argument can be made better with set/category theory.

\subsubsection{Theorem: There is only one ring homomorphism from $\mathbb{Z}$ to a ring $R$}
Given two homomorphisms $\phi_0$ and $\phi_1$ define:
\[d(n) = \phi_1(n)-\phi_0(n)\]
We have:
\[d(1) = \phi_1(1)-\phi_0(1) = 1_R-1_R = 0\]
And:
\begin{equation*}
\begin{aligned}
	d(n\pm1) =& \phi_1(n\pm1) - \phi_0(n\pm1) \\
	=& \phi_1(n) \pm 1_R - \phi_0(n) \mp 1_R \\
	=& \phi_1(n) - \phi_0(n) \\
	=&d(n)\\
\end{aligned}
\end{equation*}
Hence,
by induction,
$d(n)=0$ and $\phi_1 = \phi_0$.

\subsubsection{Remark:}
This observation isn't better or worse than the first observation,
but it's result was what I wanted from the first,
and it's more elegant,
and it's better than the final corollary.
\\

Either way, because of this uniqueness combined with $\img\phi\cong\langle 1_R \rangle|$ means we can identify $n_R = \phi(n)$ and have that notation work as implied.

\subsection{Actual Subfield}
I forgot to write about how the above results actually relates to finite subfields.
This is just a quick note so I don't forget anything, it's not that rigorous and may include mistakes.
(Like $R$ has to be commutative for using polynomials to make sense.)

\subsubsection{Theorem: $\langle a \rangle$ from polynomial substitution.}
Let $R$ be a ring and $s_a: \langle 1_R \rangle[X] \rightarrow R$ where:
\[s_a\left(\sum_np_nX^n\right) = \sum_np_na^n\]
From ring isomorphism $\img s_a$ is a subring of $R$.
Since $s_a(X)=a$ by the minimality of $\langle a \rangle$ we have:
\[\img s_a \supseteq \langle a \rangle\] 
By closure of $\langle a \rangle$ and $s_a(X),s_a(1_R)\in R$ implies:
\[\img s_a \subseteq \langle a \rangle\] 
Hence $\img s_a\cong\langle a \rangle$.

\subsubsection{Remark:}
You can naturally iterate on this with $s_{a,b,c}: \langle 1_R \rangle[X,Y,Z] \rightarrow R$ where $s_{a,b,c}[X] = a$,$s_{a,b,c}[Y] = b$, and $s_{a,b,c}[Z] = c$ to give:
\[\img s_{a,b,c} \cong \langle a,b,c \rangle\]

\subsubsection{Corollary: If $R$ is finite than there is a subset $B$ such that $B$ is a basis for $R$ as a $\langle 1_R \rangle$-module.}
Since $R$ is finite we can have a $|R|$ variable polynomial which can interrelate the previous result as a $\langle 1_R \rangle$-module.
Just prune of non-extending elements to get the basis.

\subsubsection{Theorem: If $R$ is a field then so it $\langle 1_R \rangle$.}
Let $r\in\langle 1_R \rangle$ we have:
\begin{equation*}
\begin{aligned}
	1_R =& r\times\left(\sum_np_nb_n\right)\\
	1_R =& \sum_nrp_nb_n\\
\end{aligned}
\end{equation*}
Hence $rp_{n>0} = 0$, 
since all fields are domains ($ab=0\Rightarrow a=0b^{-1}$) hence:
\[p_{n>0} = 0\]
Hence $\sum_np_nb_n = p_0 \in \langle 1_R \rangle$ making it a field.

\subsubsection{Corollary: If $R$ is a filed then $|\langle 1_R \rangle|$ is prime.}
Recall that $\langle 1_R \rangle$ is cyclic and the only cyclic fields are the ones with prime order.
